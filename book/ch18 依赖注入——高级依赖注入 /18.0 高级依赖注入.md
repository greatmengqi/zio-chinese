# 18.0 高级依赖注入
在上一章中，我们主要从服务用户的角度关注依赖注入。我们学习了如何在效果中访问环境中的服务，如何将需要不同服务的效果组合在一起，以及如何为需要运行的服务提供效果。
但是在上一章中，我们将重点更多地放在了"what"与"why"上。我们了解了服务和环境，但是在ZIO中如何实际定义服务，这如何帮助我们构建服务？
在本章中，我们将对此进行详细介绍。我们将首先描述构建服务的问题，并介绍Has数据类型，这是ZIO解决该问题的解决方案。
然后，我们将学习模块模式，这是一种惯用的ZIO方法，用于定义服务，以为用户提供极为流畅的API，就像我们在上一章中所说的那样。
最后，我们将在ZLayer上花费更多的时间，以及如何在ZLayer上使用一些更高级的运算符来以最有效，最安全的方式构建复杂的服务集。