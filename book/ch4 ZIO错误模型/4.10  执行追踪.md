[0.目录](../0.目录.md)
# 4.10 执行追踪
众所周知，诊断基于Future的代码中的故障非常困难，这是因为Future代码生成的堆栈跟踪不是很有帮助。他们没有显示周围的上下文，而是显示了Future实施内部的实现细节。
为了解决此问题，ZIO包含了一个称为执行跟踪的功能，该功能提供了有关故障周围环境的极其详细的细节。默认情况下，执行跟踪是打开的，它使您可以更快地跟踪代码中问题的根本原因。
由于ZIO的错误通道是多态的，因此您可以在此处使用自己的数据类型，并且ZIO无法将执行跟踪附加到未知类型。因此，要检索错误的执行跟踪，您需要完整的Cause。找到原因后，您可以简单地调用prettyPrint将全部原因信息（包括执行跟踪）转换为人类可读的字符串。
在以下代码段中，如果发生故障，则将全部原因数据记录到控制台：
```
  lazy val effect: ZIO[Any, IOException, String] = ???
  effect.tapCause(cause => console.putStrLn(cause.prettyPrint))
```
请注意，使用了ZIO＃tapCause方法，该方法使我们可以“挖掘”故障原因，在不改变效果成败的情况下有效地进行了某些方面的工作（例如记录）。


##  4.10.1 Interpreting Error Tracing
TODO